@model IEnumerable<Blog.ViewModels.ShowAllAccountsVM>

@{
	ViewData["Title"] = "Show All Accounts";
	int i = 0;
    var itemList = ViewBag.Profiles as List<Profile>;
}

<div class="container mt-5">
	<h1 class="text-center">Show All Accounts</h1>

	<div class="mb-3 text-right">
		<a asp-action="Register" class="btn btn-primary">Create New</a>
	</div>

	<table class="table table-striped table-bordered">
		<thead class="thead-dark">
			<tr>
				<th>
					@Html.DisplayNameFor(model => model.Id)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.UserName)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.Email)
				</th>
				<th>
					@Html.DisplayNameFor(model => model.PhoneNumber)
				</th>
				<th class="text-center">Actions</th>
			</tr>
		</thead>
		<tbody>
			@foreach (var item in Model)
			{
						<tr>
							<td>
						@Html.DisplayFor(modelItem => item.Id)
							</td>
							<td>
						@Html.DisplayFor(modelItem => item.UserName)
							</td>
							<td>
						@Html.DisplayFor(modelItem => item.Email)
							</td>
							<td>
						@Html.DisplayFor(modelItem => item.PhoneNumber)
							</td>
							<td class="text-center">
									<a asp-action="User" asp-controller="Profile" asp-route-id="@itemList[i].Id" class="btn btn-primary">Profile</a>
							</td>
							@{
								i++;
							}
						</tr>
			}
		</tbody>
	</table>
</div>
